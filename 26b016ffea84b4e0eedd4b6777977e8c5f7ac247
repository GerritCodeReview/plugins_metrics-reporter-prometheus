{
  "comments": [
    {
      "key": {
        "uuid": "21a9dca4_c6bed7ba",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/metricsreporterprometheus/CapabilityChecker.java",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2020-02-07T00:14:33Z",
      "side": 1,
      "message": "Would metricsreporters.prometheus be better?",
      "range": {
        "startLine": 14,
        "startChar": 40,
        "endLine": 14,
        "endChar": 65
      },
      "revId": "26b016ffea84b4e0eedd4b6777977e8c5f7ac247",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8ac29f0_7f72e91c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/metricsreporterprometheus/CapabilityChecker.java",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2020-02-07T08:53:39Z",
      "side": 1,
      "message": "I checked other plugins and found that most (maybe all) of them have their package name\nin this format:\n\n  com.googlesource.gerrit.plugins.\u003cplugin-name\u003e\n\nSince this plugin is named metrics-reporter-prometheus, I just removed the dashes but otherwise\nfollowed the above pattern.\n\nI think that a more important discussion would be whether we want to merge the metrics reporter\nplugins into one plugin. Obviously (just look at my two series for the prometheus and jmx reporter) there is a potential for some code to be shared. I wouldn\u0027t go for the extraction\nof the common logic into an \"abstract\" plugin (like the its* family of plugins) because\nthis tends to be hard to maintain.",
      "parentUuid": "21a9dca4_c6bed7ba",
      "range": {
        "startLine": 14,
        "startChar": 40,
        "endLine": 14,
        "endChar": 65
      },
      "revId": "26b016ffea84b4e0eedd4b6777977e8c5f7ac247",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b5f0f0e_947cf4f9",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/metricsreporterprometheus/CapabilityChecker.java",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2020-02-07T12:59:01Z",
      "side": 1,
      "message": "\u003e plugins into one plugin. Obviously (just look at my two series for the prometheus and jmx reporter) there is a potential for some code to be shared. I wouldn\u0027t go for the extraction\n\u003e of the common logic into an \"abstract\" plugin (like the its* family of plugins) because\n\u003e this tends to be hard to maintain.\n\nMerging them all metrics plugins together may require per-metric enabling based on plugin configuration. Unless all of the metrics are guaranteed to be overhead-less on the monitored system (Gerrit). Or at least guaranteed to minimize their overhead to acceptable levels. I\u0027d tend to agree with not repeating the its-base experience.",
      "parentUuid": "c8ac29f0_7f72e91c",
      "range": {
        "startLine": 14,
        "startChar": 40,
        "endLine": 14,
        "endChar": 65
      },
      "revId": "26b016ffea84b4e0eedd4b6777977e8c5f7ac247",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21593192_068048f9",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/metricsreporterprometheus/CapabilityChecker.java",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2020-02-10T01:42:50Z",
      "side": 1,
      "message": "I\u0027d also rather not follow the its-base pattern. Shall we go with this rename for now, and discuss merging the plugins separately on the mailing list or issue tracker?",
      "parentUuid": "9b5f0f0e_947cf4f9",
      "range": {
        "startLine": 14,
        "startChar": 40,
        "endLine": 14,
        "endChar": 65
      },
      "revId": "26b016ffea84b4e0eedd4b6777977e8c5f7ac247",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4219fa56_f2e4c6df",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/metricsreporterprometheus/CapabilityChecker.java",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2020-02-10T20:49:40Z",
      "side": 1,
      "message": "Yes, SGTM.\nHowever, before submitting the rename I would appreciate a feedback on the main\nchange in this and the other (jmx) series. It is the second change in both series.",
      "parentUuid": "21593192_068048f9",
      "range": {
        "startLine": 14,
        "startChar": 40,
        "endLine": 14,
        "endChar": 65
      },
      "revId": "26b016ffea84b4e0eedd4b6777977e8c5f7ac247",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}